function addMarker(e,o,n){var a=new google.maps.Marker({position:e,map:o,draggable:!0});google.maps.event.addListener(a,"click",function(){console.log("click listener on marker added"),console.log(a.position),reverseCodeLatLng(a.position,o,n)}),google.maps.event.addListener(a,"rightclick",function(){console.log("rightclick listener on marker added!")}),markers.push(a)}function setAllMap(e){for(var o=0;o<markers.length;o++)markers[o].setMap(e)}function clearMarkers(){setAllMap(null)}function showMarkers(e){setAllMap(e)}function deleteMarkers(){clearMarkers(),markers=[]}function codeAddress(e){var o=new google.maps.Geocoder;o.geocode({address:e},function(e,o){o==google.maps.GeocoderStatus.OK?(console.log("results:"),console.log(e[0].geometry.location)):alert("Geocode was not successful for the following reason: "+o)})}function reverseCodeLatLng(e,o,n){var n=new google.maps.Geocoder;n.geocode({location:e},function(e,o){o==google.maps.GeocoderStatus.OK?e[1]?(console.log(e),console.log(e[1]),console.log(e[1].formatted_address)):console.log("No results found"):console.log("Geocoder failed due to: "+o)})}function initialize(){var e=document.getElementById("map-canvas");console.log(document);var o={center:new google.maps.LatLng(40.7127,-74.0059),zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP,draggableCursor:"default",scrollwheel:!1},n=new google.maps.Map(e,o),a=new google.maps.Geocoder,l=!1,r=!0,s=!0;google.maps.event.addListener(n,"dragstart",function(){s=!1}),google.maps.event.addListener(n,"dragend",function(){s=!0}),google.maps.event.addListener(n,"zoom_changed",function(){s=!1}),google.maps.event.addListener(n,"click",function(e){s&&r&&(deleteMarkers(n),addMarker(e.latLng,n,a),showMarkers(n))}),google.maps.event.addListener(n,"dblclick",function(){l=!0}),console.log("initialized map")}var markers=[];google.maps.event.addDomListener(window,"load",initialize);